<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.api.mapper.MenuMapper">

    <!-- Find Menu -->
    <select id="findAllMenu">
        SELECT * FROM menu
    </select>
    <select id="findMenuById" resultType="com.api.domain.Menu">
        SELECT * FROM menu WHERE id = #{_id}
    </select>

    <select id="findMenuByName" resultType="com.api.domain.Menu">
        SELECT * FROM menu WHERE name = #{_name}
    </select>

    <select id="findMenuByMenuType" resultType="com.api.domain.Menu">
        SELECT * FROM menu WHERE menu_type = #{menuType}
    </select>

    <!-- Update Menu -->
    <update id="updateMenuScore">
        UPDATE Menu SET score=#{_score} WHERE name = #{_name}
    </update>

    <update id="updateDailymenu">
        UPDATE Daily_meal SET date_value=#{dateValue}, time=#{_time}, group_id=#{groupId}, menu=#{_menu} WHERE date_value=#{beforeDate}, time=#{beforeTime}
    </update>


    <insert id="AddDailyMenu">
        INSERT INTO Daily_meal (date_value, time, group_id, menu)
        VALUES (#{dateValue}, #{_time}, #{groupId}, #{_menu})
    </insert>
    
    <insert id="AddMenu">
        INSERT INTO Menu (name)
        VALUES (#{_name})
    </insert>

</mapper>